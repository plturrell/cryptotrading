<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://ui5.sap.com http: ws:; style-src 'self' 'unsafe-inline' https://ui5.sap.com; font-src 'self' https://ui5.sap.com; img-src 'self' data: https:; connect-src 'self' https://ui5.sap.com http: ws: wss:; object-src 'none'; base-uri 'self';">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Trading Platform</title>
    
    <!-- SAP UI5 Bootstrap -->
    <script id="sap-ui-bootstrap"
        src="https://ui5.sap.com/1.120.0/resources/sap-ui-core.js"
        data-sap-ui-theme="sap_horizon"
        data-sap-ui-resourceroots='{
            "com.rex.cryptotrading": "./"
        }'
        data-sap-ui-libs="sap.m,sap.f,sap.tnt,sap.ui.comp,sap.ui.table,sap.uxap,sap.viz,sap.suite.ui.microchart,sap.ui.fl"
        data-sap-ui-compatVersion="edge"
        data-sap-ui-language="en"
        data-sap-ui-async="true"
        data-sap-ui-preload="async"
        data-sap-ui-frameOptions="trusted"
        data-sap-ui-xx-bindingSyntax="complex"
        data-sap-ui-xx-componentPreload="off"
        data-sap-ui-logLevel="ERROR">
    </script>
    
    <!-- Socket.IO for real-time updates -->
    <script>
        // Conditionally load socket.io to avoid MIME type errors
        (function() {
            var script = document.createElement('script');
            script.src = '/socket.io/socket.io.js';
            script.onerror = function() {
                console.warn('Socket.IO not available - real-time features disabled');
                window.io = undefined; // Set io as undefined to handle gracefully
            };
            document.head.appendChild(script);
        })();
    </script>
    
    <!-- Custom styles -->
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        
        #content {
            height: 100%;
        }
    </style>
    
    
    <script>
        sap.ui.getCore().attachInit(function() {
            // Create component container
            new sap.ui.core.ComponentContainer({
                name: "com.rex.cryptotrading",
                settings: {
                    id: "com.rex.cryptotrading"
                },
                async: true,
                manifest: true,
                height: "100%"
            }).placeAt("content");
        });
    </script>
</head>
<body class="sapUiBody">
    <div id="content"></div>
</body>
</html>